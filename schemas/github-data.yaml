$schema: http://json-schema.org/draft-07/schema#
title: GitHub User Data Schema
type: object

required:
  - last_updated
  - activity
  - open_prs
  # - authored_issue_and_pr
  # - discussions


properties:
  last_updated:
    type: string

  activity:
    type: array
    items:
      type: object
      required: ["type", "title", "time", "link", "text"]
      properties:
        type: string
        title: string
        time: string
        link: string
        text: string
        collaborated_with:
          type: array
          items:
            type: string

  open_prs:
    type: array
    items:
      type: object
      required: ["link", "title"]
      properties:
        link: string
        title: string
        stale_for: integer

  authored_issue_and_pr:
    type: array
    items:
      type: object
      required: ["issue_link", "pr_link"]
      properties:
        issue_link: string
        pr_link: string

  discussions:
    type: array
    items:
      type: object
      required: ["id", "title", "author", "url", "category", "createdAt", "isAnswered"]
      properties:
        id: string
        title: string
        author:
          type: object
          required: ["login", "avatarUrl"]
          properties:
            login: string
            avatarUrl: string
        url: string
        category:
          type: object
          required: ["id", "name", "emoji"]
          properties:
            id: string
            name: string
            emoji: string
        upvoteCount: integer
        reactions:
          type: object
          required: ["totalCount"]
          properties:
            totalCount: integer
        comments:
          type: array
          items:
            type: object
            required: ["author", "upvoteCount", "isAnswer"]
            properties:
              author:
                type: object
                required: ["login", "avatarUrl"]
                properties:
                  login: string
                  avatarUrl: string
              upvoteCount: integer
              isAnswer: boolean
        createdAt: string
        isAnswered: boolean
